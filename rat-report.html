<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from org.apache.rat:apache-rat-plugin:0.16.1:rat at 20 Jun 2025
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>Rat (Release Audit Tool) results â€“ Apache Turbine Webapp Archetype</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.1.0.min.js"></script>
    <style>.github-fork-ribbon:before { background-color: orange; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/apache/turbine-webapp-7.0-SNAPSHOT" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="./"><img src="images/turbine-project.png" alt="Apache Turbine" /></a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><a href="./"><img src="http://turbine.apache.org/images/logo.gif" /></a></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 02 Apr 2025<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 4.0.0</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="fulcrum/">Fulcrum</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="./">Turbine</a></li>
        <li class="pull-right"><a href="https://www.apache.org">Apache</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-down"></span>Project Reports</a>
     <ul class="nav nav-list">
      <li><a href="changes-report.html">Changes</a></li>
      <li><a href="cpd.html">CPD</a></li>
      <li><a href="pmd.html">PMD</a></li>
      <li><a href="surefire.html">Surefire</a></li>
      <li><a href="jacoco-aggregate/index.html">JaCoCo Aggregate</a></li>
      <li><a href="jdepend-report.html">JDepend</a></li>
      <li class="active"><a>Rat Report</a></li>
     </ul></li>
   <li class="nav-header">Apache</li>
    <li><a href="https://www.apache.org/">Apache Website</a></li>
    <li><a href="https://www.apache.org/licenses/">License</a></li>
    <li><a href="https://www.apache.org/foundation/how-it-works.html">How the ASF works</a></li>
    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
    <li><a href="https://www.apache.org/security/">Security</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="https://turbine.apache.org" name="sitesearch" type="hidden" />
  <input class="search-query" name="q" id="query" type="text" placeholder="Search with Google..." />
</form>
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section>
<h1>Rat (Release Audit Tool) results</h1>
<p>The following document contains the results of <a class="externalLink" href="https://creadur.apache.org/rat/apache-rat-plugin/">Rat (Release Audit Tool)</a>.</p>
<p></p>
<pre>
*****************************************************
Summary
-------
Generated at: 2025-06-20T14:12:22+02:00

Notes: 2
Binaries: 3
Archives: 0
Standards: 126

Apache Licensed: 71
Generated Documents: 8

JavaDocs are generated, thus a license header is optional.
Generated files do not require license headers.

47 Unknown Licenses

*****************************************************

Files with unapproved licenses:

  .asf.yaml
  .gitconfig
  src/main/resources/archetype-resources/docs/DOCKER-PODMAN-COMPOSE-README.md
  src/main/resources/archetype-resources/docs/README.md
  src/main/resources/archetype-resources/src/main/data/sample-mysql-data/_application-data.sql
  src/main/resources/archetype-resources/src/main/data/sample-mysql-data/_turbine-security-data.sql
  src/main/resources/archetype-resources/src/main/docker-resources/app/Dockerfile
  src/main/resources/archetype-resources/src/main/docker-resources/app/settings.xml
  src/main/resources/archetype-resources/src/main/docker-resources/db/mariadb/Dockerfile
  src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/conf/my.cnf
  src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/Dockerfile
  src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/init/data.sql
  src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/log/log.out
  src/main/resources/archetype-resources/src/main/docker-resources/docker-compose.yml
  src/main/resources/archetype-resources/src/main/webapp/logs/KEEPME
  src/main/resources/archetype-resources/src/main/webapp/META-INF/context.xml
  src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/Error.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/TestSecure.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/layouts/FluxDefault.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/navigations/FluxBottom.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/navigations/FluxMenu.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/navigations/FluxTop.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxEmbeddedMenu.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxError.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxIndex.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxLogin.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/group/FluxGroupAlreadyExists.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/group/FluxGroupForm.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/group/FluxGroupList.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxPermissionAlreadyExists.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxPermissionForm.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxPermissionList.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxRolePermissionList.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/role/FluxRoleAlreadyExists.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/role/FluxRoleForm.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/role/FluxRoleList.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxMissingRequiredInputs.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserAlreadyExists.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserForm.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserList.vm
  src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserRoleForm.vm
  src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/flux.properties
  src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/TurbineConfigurationBuilder.xml
  src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/usersettings.properties
  src/main/resources/archetype-resources/src/main/webapp/WEB-INF/jetty-ee10-env.xml
  src/test/resources/projects/first/archetype.properties
  src/test/resources/projects/first/goal.txt

*****************************************************

*****************************************************
  Files with Apache License headers will be marked AL
  Binary files (which do not require any license headers) will be marked B
  Compressed archives will be marked A
  Notices, licenses etc. will be marked N
 !????? .asf.yaml
 !????? .gitconfig
  N     LICENSE
  N     NOTICE
  AL    pom.xml
  AL    src/changes/changes.xml
 !????? src/main/resources/archetype-resources/docs/DOCKER-PODMAN-COMPOSE-README.md
 !????? src/main/resources/archetype-resources/docs/README.md
  AL    src/main/resources/archetype-resources/pom.xml
 !????? src/main/resources/archetype-resources/src/main/data/sample-mysql-data/_application-data.sql
 !????? src/main/resources/archetype-resources/src/main/data/sample-mysql-data/_turbine-security-data.sql
 !????? src/main/resources/archetype-resources/src/main/docker-resources/app/Dockerfile
 !????? src/main/resources/archetype-resources/src/main/docker-resources/app/settings.xml
 !????? src/main/resources/archetype-resources/src/main/docker-resources/db/mariadb/Dockerfile
 !????? src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/conf/my.cnf
 !????? src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/Dockerfile
 !????? src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/init/data.sql
 !????? src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/log/log.out
 !????? src/main/resources/archetype-resources/src/main/docker-resources/docker-compose.yml
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/actions/FluxAction.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/actions/FluxLogin.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/actions/FluxLogout.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/actions/group/FluxGroupAction.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/actions/permission/FluxPermissionAction.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/actions/role/FluxRoleAction.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/actions/SecureAction.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/actions/user/FluxUserAction.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/screens/FluxError.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/screens/FluxIndex.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/screens/FluxScreen.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/screens/group/Default.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/screens/permission/Default.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/screens/role/Default.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/modules/screens/user/Default.java
  AL    src/main/resources/archetype-resources/src/main/java/flux/tools/FluxTool.java
  AL    src/main/resources/archetype-resources/src/main/java/L10N.properties
  AL    src/main/resources/archetype-resources/src/main/java/L10N_de_DE.properties
  AL    src/main/resources/archetype-resources/src/main/java/L10N_en_US.properties
  AL    src/main/resources/archetype-resources/src/main/java/L10N_ko_KR.properties
  AL    src/main/resources/archetype-resources/src/main/java/modules/actions/ChangePasswordAction.java
  AL    src/main/resources/archetype-resources/src/main/java/modules/actions/LoginUser.java
  AL    src/main/resources/archetype-resources/src/main/java/modules/actions/LoginUserIntake.java
  AL    src/main/resources/archetype-resources/src/main/java/modules/actions/LogoutUser.java
  AL    src/main/resources/archetype-resources/src/main/java/modules/actions/SecureAction.java
  AL    src/main/resources/archetype-resources/src/main/java/modules/actions/ShowRecords.java
  AL    src/main/resources/archetype-resources/src/main/java/modules/screens/Index.java
  AL    src/main/resources/archetype-resources/src/main/java/modules/screens/Password.java
  AL    src/main/resources/archetype-resources/src/main/java/modules/screens/SecureScreen.java
  AL    src/main/resources/archetype-resources/src/main/java/modules/screens/TestSecure.java
  GEN   src/main/resources/archetype-resources/src/main/java/om/TurbinePermissionPeer.java
  GEN   src/main/resources/archetype-resources/src/main/java/om/TurbinePermissionPeerImpl.java
  GEN   src/main/resources/archetype-resources/src/main/java/om/TurbineRolePeer.java
  GEN   src/main/resources/archetype-resources/src/main/java/om/TurbineRolePeerImpl.java
  GEN   src/main/resources/archetype-resources/src/main/java/om/TurbineRolePermission.java
  GEN   src/main/resources/archetype-resources/src/main/java/om/TurbineUser.java
  GEN   src/main/resources/archetype-resources/src/main/java/om/TurbineUserGroupRole.java
  GEN   src/main/resources/archetype-resources/src/main/java/om/TurbineUserGroupRolePeerImpl.java
  AL    src/main/resources/archetype-resources/src/main/java/services/pull/RelatedTool.java
  AL    src/main/resources/archetype-resources/src/main/java/wrapper/TurbineUserWrapper.java
  AL    src/main/resources/archetype-resources/src/main/torque-schema/application-data.xml
  AL    src/main/resources/archetype-resources/src/main/torque-schema/application-schema.xml
  AL    src/main/resources/archetype-resources/src/main/torque-schema/id-table-schema.xml
  AL    src/main/resources/archetype-resources/src/main/torque-schema/torque-security-data.xml
  AL    src/main/resources/archetype-resources/src/main/torque-schema/torque-security-schema.xml
 !????? src/main/resources/archetype-resources/src/main/webapp/logs/KEEPME
 !????? src/main/resources/archetype-resources/src/main/webapp/META-INF/context.xml
  B     src/main/resources/archetype-resources/src/main/webapp/resources/ui/skins/default/images/pb-turbine100px.png
  B     src/main/resources/archetype-resources/src/main/webapp/resources/ui/skins/default/images/turbine-project.png
  B     src/main/resources/archetype-resources/src/main/webapp/resources/ui/skins/default/images/turbine4-project.png
  AL    src/main/resources/archetype-resources/src/main/webapp/resources/ui/skins/default/page.css
  AL    src/main/resources/archetype-resources/src/main/webapp/resources/ui/skins/default/page.js
  AL    src/main/resources/archetype-resources/src/main/webapp/resources/ui/skins/default/skin.props
  AL    src/main/resources/archetype-resources/src/main/webapp/templates/app/layouts/Default.vm
  AL    src/main/resources/archetype-resources/src/main/webapp/templates/app/macros/applicationMacros.vm
  AL    src/main/resources/archetype-resources/src/main/webapp/templates/app/navigations/Menu.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/Error.vm
  AL    src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/Index.vm
  AL    src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/Login.vm
  AL    src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/Password.vm
  AL    src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/showRecords.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/TestSecure.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/layouts/FluxDefault.vm
  AL    src/main/resources/archetype-resources/src/main/webapp/templates/flux/macros/fluxMacros.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/navigations/FluxBottom.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/navigations/FluxMenu.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/navigations/FluxTop.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxEmbeddedMenu.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxError.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxIndex.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxLogin.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/group/FluxGroupAlreadyExists.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/group/FluxGroupForm.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/group/FluxGroupList.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxPermissionAlreadyExists.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxPermissionForm.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxPermissionList.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxRolePermissionList.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/role/FluxRoleAlreadyExists.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/role/FluxRoleForm.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/role/FluxRoleList.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxMissingRequiredInputs.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserAlreadyExists.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserForm.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserList.vm
 !????? src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserRoleForm.vm
  AL    src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/componentConfiguration.xml
  AL    src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/containerConfiguration.xml
 !????? src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/flux.properties
  AL    src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/intake.xml
  AL    src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/log4j2.xml
  AL    src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/roleConfiguration.xml
  AL    src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/Torque.properties
  AL    src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/turbine-classic-pipeline.xml
 !????? src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/TurbineConfigurationBuilder.xml
  AL    src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/TurbineResources.properties
 !????? src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/usersettings.properties
 !????? src/main/resources/archetype-resources/src/main/webapp/WEB-INF/jetty-ee10-env.xml
  AL    src/main/resources/archetype-resources/src/main/webapp/WEB-INF/web.xml
  AL    src/main/resources/archetype-resources/src/test/conf/torque/fulcrumComponentConfiguration.xml
  AL    src/main/resources/archetype-resources/src/test/conf/torque/fulcrumRoleConfiguration.xml
  AL    src/main/resources/archetype-resources/src/test/conf/torque/TorqueTest.properties
  AL    src/main/resources/archetype-resources/src/test/conf/torque/turbine/CompleteTurbineResources.properties
  AL    src/main/resources/archetype-resources/src/test/conf/torque/turbine/fulcrumContainerConfiguration.xml
  AL    src/main/resources/archetype-resources/src/test/conf/torque/turbine/turbine-classic-pipeline.xml
  AL    src/main/resources/archetype-resources/src/test/java/services/security/AbstractFulcrumTorqueModelManagerTest.java
  AL    src/main/resources/archetype-resources/src/test/java/services/security/FulcrumTorqueDefaultModelManagerTest.java
  AL    src/main/resources/archetype-resources/src/test/java/services/security/TurbineSecurityServiceTest.java
  AL    src/main/resources/archetype-resources/src/test/resources/log4j.xml
  AL    src/main/resources/META-INF/maven/archetype-metadata.xml
 !????? src/test/resources/projects/first/archetype.properties
 !????? src/test/resources/projects/first/goal.txt
 
*****************************************************

 Printing headers for text files without a valid license header...
 
=====================================================
== File: .asf.yaml
=====================================================
github:
  features:
    # Enable issue management
    issues: true

=====================================================
== File: .gitconfig
=====================================================
# Enforce SSH
[url &quot;ssh://git@github.com/&quot;]
  insteadOf = https://github.com/

=====================================================
== File: src/main/resources/archetype-resources/docs/DOCKER-PODMAN-COMPOSE-README.md
=====================================================
# Introduction

This is to help developers to get fast a running development environment for debugging.

To use it in production you may need to carefully review all configurations and adjust.

The Container based environment is to test/develop a Turbine app using a container based test database. 

The build should take place outside the container.

It is based on one docker-compose.yml file and two Dockerfiles and could be run with podman-compose (after some checks are done, see below)..

Docker compose uses currently two customized services: **app** (maven:latest) and **db** (mariadb:10.10). 

## Podman und Podman-compose

- If using Podman (podman-compose) you have to add registry docker.io/library/ in etc/containers/registries.conf (or add a namespace before tag name in FROM of DOCKERFILE).
- To allow inter container communication you should enable in /etc/containers/container.conf  
 
    [network]
    network_backend = &quot;netavark&quot;
    
- In docker-compose.yml networks has to be enabled because of this.

 (tested for Debian bookworm, podman 4.3.1, running in root-less environment). You could check, that it is set by running 

    podman info | grep network
    
. And just replace below docker compose with podman-compose (most commands)!

## Note

- reference database is now Mariadb (mySQL may be used also after some adaptions in DOCKERFILE, but it is not tested in the first place). 
- Instead of using maven as the app service a Jetty container might be the better choice as currently console reloading might not work. 
To be able to use other maven tasks (in the container) in this case makes this nevertheless a reasonable choice.

# Prepare

To run the build from the archetypes root use the following mvn command:

    mvn install -Pdocker,mysql 
or
    mvn install -Pdocker,mariadb
    
IMPORTANT: You habe to enable the profile mariadb or mysql to define the backend.
    
### Build Note 

If you have already generated this with mvn archetype:generate within the same host environment this step could be omitted.


=====================================================
== File: src/main/resources/archetype-resources/docs/README.md
=====================================================
# Quick Guide to using the new Turbine maven archetype for skeleton application generation

Maven Archetype to generate a webapp utilizing Turbine

## Getting Started

These instructions will get you a copy of the project up and running on your local machine for development and testing purposes. See deployment for notes on how to deploy the project on a live system.

### Prerequisites

* Java 17 JDK or later (Turbine 6.0 and later), before Java 8
* [MySQL](https://www.mysql.com/) - Database Server or [Docker] (https://docs.docker.com/get-docker/)
* [Maven](https://maven.apache.org/) - Dependency Management

You should have Java 11 or later installed.  The archetype sets up a new application using MySQL as the default database store.  However, you can adjust this to use any database supported by Apache Torque 5.x. If not using Docker, you should therefore be at least have a database instance where you have access rights to create a new database schema and populate it with the tables the application generates.  Finally, this is a maven archetype, so of course you should install a local version of Maven (tested with 3.8.3).  

## About this archetype 

Turbine Version: Turbine x ~ Turbine-webapp-x

### Integration Test (if you checked out this [Archetype Generate Repository](https://github.com/apache/turbine-archetypes.git))

    mvn integration-test 

N.B.: This builds an integrationtest project in target/test-classes/projects/first/project/integrationtest (if you provide -Ddocker=true with docker enabled configuration, otherwise you need a hosted mysql database). You could start testing this archetype here..

- Follow either Local database Setup or Docker Setup

### Docker Setup

- If docker is available you could use the Docker build setup. Follow instructions here: [DOCKER README] (DOCKER-README.md).

### Local Database Setup

First, you should have a local database installed and configured prior to 
beginning the application setup below.

As we are using MySQL by default you need to create the database in MySQL (server version should be at least 5.5), e.g. with

```sh
mysql -u &lt;user&gt; -p
mysql&gt; create database helloWorld;
mysql&gt; \q
```

or other tools. The database should have been started and the database user granted enough rights.

### Maven archetype 

Next, you can invoke the Maven archetype for turbine-webapp-7.0 from 

=====================================================
== File: src/main/resources/archetype-resources/src/main/data/sample-mysql-data/_application-data.sql
=====================================================

##
## application-data.sql
##
## Torque will not autogenerate these files anymore - please run
## this SQL code maually to get your application up and running
##

INSERT INTO AUTHOR (AUTH_ID, FIRST_NAME, LAST_NAME) values (1, 'Donald', 'Knuth');
INSERT INTO AUTHOR (AUTH_ID, FIRST_NAME, LAST_NAME) values (2, 'Mickey', 'Mouse' );
INSERT INTO AUTHOR (AUTH_ID, FIRST_NAME, LAST_NAME) values (3, 'Bill', 'Bryson' );

INSERT INTO BOOK ( BOOK_ID, AUTH_ID, TITLE, SUBJECT ) values ( 1, 1, 'The Art of Computer Programming', 'Computer Science');
INSERT INTO BOOK ( BOOK_ID, AUTH_ID, TITLE, SUBJECT ) values ( 2, 2, 'Disney: Behind the Scenes', 'Fiction' );
INSERT INTO BOOK ( BOOK_ID, AUTH_ID, TITLE, SUBJECT ) values ( 3, 3, 'A Walk in the Woods', 'Fiction');

=====================================================
== File: src/main/resources/archetype-resources/src/main/data/sample-mysql-data/_turbine-security-data.sql
=====================================================
##
## turbine-security-data.sql
##
## Torque will not autogenerate these files anymore - but sql-maven-plugin!
## If not, please run
## this SQL code manually to get your application up and running
##
SET FOREIGN_KEY_CHECKS=0;

INSERT INTO TURBINE_USER (USER_ID,LOGIN_NAME,PASSWORD_VALUE,FIRST_NAME,LAST_NAME)
    VALUES (1,'admin','password','','Admin');

INSERT INTO TURBINE_USER (USER_ID,LOGIN_NAME,PASSWORD_VALUE,FIRST_NAME,LAST_NAME)
    VALUES (2,'user','password','','User');
    
INSERT INTO TURBINE_USER (USER_ID,LOGIN_NAME,PASSWORD_VALUE,FIRST_NAME,LAST_NAME)
    VALUES (3,'anon','nopw','','Anon');

INSERT INTO TURBINE_PERMISSION (`PERMISSION_ID`, `PERMISSION_NAME`) VALUES
(2, 'Turbine'),
(1, 'TurbineAdmin');

INSERT INTO TURBINE_ROLE (`ROLE_ID`, `ROLE_NAME`) VALUES
(1, 'turbineadmin'),
(2, 'turbineuser');

INSERT INTO TURBINE_GROUP (`GROUP_ID`, `GROUP_NAME`) VALUES
(1, 'global'),
(2, 'Turbine');

INSERT INTO TURBINE_ROLE_PERMISSION (`ROLE_ID`, `PERMISSION_ID`) VALUES
(1, 1),
(2, 2);

INSERT INTO TURBINE_USER_GROUP_ROLE (`USER_ID`, `GROUP_ID`, `ROLE_ID`) VALUES
(1, 1, 1),
(1, 2, 1),
(2, 2, 2),
(2, 1, 2);

-- 
ALTER TABLE TURBINE_USER MODIFY COLUMN USER_ID INT auto_increment;
ALTER TABLE TURBINE_PERMISSION MODIFY COLUMN PERMISSION_ID INT auto_increment;
ALTER TABLE TURBINE_ROLE MODIFY COLUMN ROLE_ID INT auto_increment;
ALTER TABLE TURBINE_GROUP MODIFY COLUMN GROUP_ID INT auto_increment;


##-- use ID_TABLE  with idMethod=&quot;idbroker&quot; and set appropriate start_id and end_id 
##-- INSERT INTO ID_TABLE (id_table_id, table_name, next_id, quantity) VALUES (1,'TURBINE_USER',start_id, end_id);
    

=====================================================
== File: src/main/resources/archetype-resources/src/main/docker-resources/app/Dockerfile
=====================================================
FROM maven:latest

# cft hub.docker.com/r/library/maven
# not used, as in docker-compose m2repo is set
ADD ./docker-resources/app/settings.xml /usr/share/maven/ref/settings.xml

# Set our working directory inside the image

#ADD pom.xml /myapp/pom.xml
#ADD src/ /myapp/src/

WORKDIR /myapp

# build app outside docker
# no build stage volumes: https://github.com/moby/moby/issues/38366
# run build process outside, requires having maven and java installed in host system.
# uncomment only, if you have NO snapshots and you a reason to build it inside the container
# RUN mvn -f /myapp/pom.xml clean package

=====================================================
== File: src/main/resources/archetype-resources/src/main/docker-resources/app/settings.xml
=====================================================
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0    
	 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;
&lt;!--settings--&gt;
  &lt;!-- localRepository set --&gt;
 &lt;localRepository&gt;/m2repo&lt;/localRepository&gt;
 &lt;usePluginRegistry&gt;false&lt;/usePluginRegistry&gt;
 &lt;offline&gt;false&lt;/offline&gt;
 &lt;pluginGroups&gt;
    &lt;pluginGroup&gt;org.eclipse.jetty&lt;/pluginGroup&gt;
 &lt;/pluginGroups&gt; 
 &lt;profiles&gt;
	   &lt;profile&gt;
      &lt;id&gt;nexus&lt;/id&gt;
      &lt;!--Enable snapshots for the built in central repo to direct --&gt;
      &lt;!--all requests to nexus via the mirror --&gt;
      &lt;repositories&gt;
        &lt;repository&gt;
          &lt;id&gt;releases&lt;/id&gt;
          &lt;url&gt;https://central&lt;/url&gt;
          &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;
          &lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;
        &lt;/repository&gt;
        &lt;repository&gt;
          &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;
          &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;
          &lt;id&gt;snapshots&lt;/id&gt;
          &lt;url&gt;https://snapshots&lt;/url&gt;
        &lt;/repository&gt;
      &lt;/repositories&gt;
     &lt;pluginRepositories&gt;
        &lt;pluginRepository&gt;
          &lt;id&gt;releases&lt;/id&gt;
          &lt;url&gt;https://central&lt;/url&gt;
          &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;
          &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;
        &lt;/pluginRepository&gt;
		 &lt;pluginRepository&gt;
         &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;
          &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;
          &lt;id&gt;snapshots&lt;/id&gt;
          &lt;url&gt;https://snapshots&lt;/url&gt;
        &lt;/pluginRepository&gt;
      &lt;/pluginRepositories&gt;
    &lt;/profile&gt;
    &lt;profile&gt; 
      &lt;id&gt;repo1&lt;/id&gt;
      &lt;activation&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/docker-resources/db/mariadb/Dockerfile
=====================================================
# mariadb uses docker-entrypoint
# podman requires docker.io/library in registries.conf
FROM mariadb:10.10 

# That file does the DB initialization but also runs mysql daemon, by removing the last line it will only init
#RUN [&quot;/bin/sed&quot;, &quot;-i&quot;, &quot;s/exec \&quot;$@\&quot;/echo \&quot;not running $@\&quot;/&quot;, &quot;/usr/local/bin/docker-entrypoint.sh&quot;]

#
# check where and what configurations are read with e.g.
# docker-compose run db /usr/sbin/mysqld --verbose --help | grep -A 1 &quot;Default options&quot;
# docker run &lt;image&gt; /usr/sbin/mysqld --verbose --help | grep -A 1 &quot;Default options&quot;

ARG DB_CONTEXT
ARG MARIADB_ROOT
ARG MARIADB_ROOT_PASSWORD
ARG MARIADB_DATABASE
ARG MARIADB_USER
ARG MARIADB_PASSWORD

# required, to create
ENV DB_CONTEXT ${DB_CONTEXT}
ENV MARIADB_ROOT=${MARIADB_ROOT}
ENV MARIADB_ROOT_PASSWORD=${MARIADB_ROOT_PASSWORD}

ENV MARIADB_DATABASE=${MARIADB_DATABASE}
ENV MARIADB_USER=${MARIADB_USER}
ENV MARIADB_PASSWORD=${MARIADB_PASSWORD}

COPY generated-sql/torque/mysql /generated-sql-init
# dependent sql should be name sorted after init.sql
# add what you need, avoid duplicate keys
RUN cat /generated-sql-init/*.sql &gt; /docker-entrypoint-initdb.d/init.sql

COPY data/sample-mysql-data /generated-sql-post-init
RUN cat /generated-sql-post-init/*.sql &gt; /docker-entrypoint-initdb.d/post_init.sql

# --chomd=600 --chown=mysql:mysql throws error
COPY ${DB_CONTEXT}/mysql/conf/ /etc/mysql/conf.d

USER mysql

=====================================================
== File: src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/conf/my.cnf
=====================================================
# read https://hub.docker.com/_/mysql/
# 

[mysqld]

collation-server = utf8mb4_unicode_ci
init-connect='SET NAMES utf8mb4'
character-set-server = utf8mb4

tls_version=TLSv1.2,TLSv1.3

character_set_server=utf8mb4
collation_server=utf8mb4_unicode_ci


# in mysql image VOLUME /var/lib/mysql and any changes to this directory 
# during build process might got lost after the build step is done 
# match db_data in docker-compose
# therefore we us a copy in Dockerfile, no uncomment needed
# datadir     = /initialized-db

#tmpdir          = /tmp

# default 0.0.0.0,  if this is 127.0.0.1 and using docker this restricts listening to only inside container, 
# which does not make sense in docker-compose services 
# skip-networking,
#bind-address = 0.0.0.0

[mysql]

default-character-set=utf8mb4

tee=/var/log/mysql/log.out

[mysqld_safe]

nice            = 0


=====================================================
== File: src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/Dockerfile
=====================================================
# mariadb uses docker-entrypoint
# podman requires docker.io/library in registries.conf
FROM mariadb:10.10 

# That file does the DB initialization but also runs mysql daemon, by removing the last line it will only init
#RUN [&quot;/bin/sed&quot;, &quot;-i&quot;, &quot;s/exec \&quot;$@\&quot;/echo \&quot;not running $@\&quot;/&quot;, &quot;/usr/local/bin/docker-entrypoint.sh&quot;]

#
# check where and what configurations are read with e.g.
# docker-compose run db /usr/sbin/mysqld --verbose --help | grep -A 1 &quot;Default options&quot;
# docker run &lt;image&gt; /usr/sbin/mysqld --verbose --help | grep -A 1 &quot;Default options&quot;

ARG DB_CONTEXT
ARG MYSQL_ROOT
ARG MYSQL_ROOT_PASSWORD
ARG MYSQL_DATABASE
ARG MYSQL_USER
ARG MYSQL_PASSWORD

# required, to create
ENV DB_CONTEXT ${DB_CONTEXT}
ENV MYSQL_ROOT=${MYSQL_ROOT}
ENV MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}

ENV MYSQL_DATABASE=${MYSQL_DATABASE}
ENV MYSQL_USER=${MYSQL_USER}
ENV MYSQL_PASSWORD=${MYSQL_PASSWORD}

COPY generated-sql/torque/mysql /generated-sql-init
# dependent sql should be name sorted after init.sql
# add what you need, avoid duplicate keys
RUN cat /generated-sql-init/*.sql &gt; /docker-entrypoint-initdb.d/init.sql

COPY data/sample-mysql-data /generated-sql-post-init
RUN cat /generated-sql-post-init/*.sql &gt; /docker-entrypoint-initdb.d/post_init.sql

COPY ${DB_CONTEXT}/mysql/conf/ /etc/mysql/conf.d

=====================================================
== File: src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/init/data.sql
=====================================================

=====================================================
== File: src/main/resources/archetype-resources/src/main/docker-resources/db/mysql/log/log.out
=====================================================

=====================================================
== File: src/main/resources/archetype-resources/src/main/docker-resources/docker-compose.yml
=====================================================
# service configuration for our dockerized Java app
version: '3.7'

services:
  app:
    networks: 
      - back-tier
    # use the Dockerfile next to this file
    build:
      context: ../
      dockerfile: ./docker-resources/app/Dockerfile
    # set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,address=0.0.0.0:9000,server=y,suspend=y, if remote debugging app is required
    environment:
      - MAVEN_OPTS=
    
    # this runs the app server in the container, be sure not to filter resources once again!
    command: [ mvn, jetty:run, &quot;-Pdocker,${db}&quot; ]
    ports:
      - &quot;8081:8081&quot;
      # remote debugging port, uncomment if not needed
      - &quot;9000:9000&quot;
      
    # podman required to support to allow outside pod  not using localhost, but service name
    # networks: &quot;container:docker-resources_db_1&quot;

    restart: always 
    # makes the app container aware of the DB container   
    depends_on:
      - db 
    # 
    #expose:
    #  - &quot;3000&quot;

    volumes:
      # project root with pom.xml and src folder
      - ../../:/myapp
      # or use local app/settings.xml
      - '#var(&quot;app_volume_local_repo&quot;):/m2repo'

  db:
    networks:
      - back-tier
    # set the build context 
    build: 
      context: ../
      dockerfile: ./docker-resources/db/${db}/Dockerfile
      args:
        DB_CONTEXT: ./docker-resources/db
        MARIADB_ROOT: root
        MARIADB_ROOT_PASSWORD: changeit

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/logs/KEEPME
=====================================================

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/META-INF/context.xml
=====================================================
&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;Context&gt;
    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;
    &lt;WatchedResource&gt;${catalina.base}/conf/web.xml&lt;/WatchedResource&gt;
    &lt;Resource name=&quot;${turbine_database_jndipath}&quot; global=&quot;${turbine_database_jndipath}&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; 
        driverClassName=&quot;${turbine_database_driver}&quot; 
        url=&quot;${turbine_database_url}${turbine_database_name}?serverTimezone=${turbine_database_timezone}&quot;
        username=&quot;${turbine_database_user}&quot; password=&quot;${turbine_database_password}&quot; 
        maxTotal=&quot;100&quot; maxIdle=&quot;20&quot; minIdle=&quot;5&quot; maxWaitMillis=&quot;10000&quot;/&gt;
&lt;/Context&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/Error.vm
=====================================================
E R R O R 

$message

$error

$exception

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/app/screens/TestSecure.vm
=====================================================
#if ( $data.getMessage() )
	#info( $data.getMessage() )
#end

## its null for anon 
#if ( $!related.getUserrole() )
&lt;h1&gt; Secured #if ($!user) User#else Role #end Access Page &lt;/h1&gt;
     #if ($!user &amp;&amp; $!success)&lt;div align=&quot;center&quot;&gt;&lt;h1&gt;$success&lt;/h1&gt;&lt;/div&gt;#end
     &lt;p&gt;   
          #if ($user)
             Hi &quot;$user.firstName, $user.lastName&quot;
          #else
          Role: $related.getUserrole()
          #end
         &lt;script type=&quot;text/javascript&quot;&gt;
          var jsonObject;
          #if ($user)
           jsonObject = $related.getJson($user,&quot;org.apache.turbine.om.security.User&quot;, null, true,&quot;lastLogin&quot;, &quot;permStorage&quot;);
           if (jsonObject != undefined &amp;&amp; jsonObject.permStorage == undefined) {
              alert(&quot;successfully read JSON:&quot; + jsonObject.lastLogin);
           } else {
              alert(&quot;error json object not as expected&quot; + JSON.stringify(jsonObject));
           }
         #end
        &lt;/script&gt;
     &lt;/p&gt;
#end

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/layouts/FluxDefault.vm
=====================================================
&lt;table class=&quot;w3-table&quot;&gt;
  &lt;tr&gt;
    &lt;td colspan=&quot;2&quot; align=&quot;left&quot;&gt;
      $navigation.setTemplate(&quot;/FluxTop.vm&quot;)
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td colspan=&quot;2&quot;&gt;
      &lt;hr noshade size=&quot;1&quot;&gt;
    &lt;/td&gt;                
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td width=&quot;10%&quot; valign=&quot;top&quot; align=&quot;left&quot;&gt;
      $navigation.setTemplate(&quot;/FluxMenu.vm&quot;)
    &lt;/td&gt;
    &lt;td width=&quot;*&quot; valign=&quot;center&quot;&gt;
      $screen_placeholder
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td colspan=&quot;2&quot;&gt;
      &lt;hr noshade size=&quot;1&quot;&gt;
    &lt;/td&gt;                
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td colspan=&quot;2&quot;&gt;
      $navigation.setTemplate(&quot;/FluxBottom.vm&quot;)
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/navigations/FluxBottom.vm
=====================================================
&lt;font face=&quot;verdana,geneva,helvetica&quot;&gt;
&lt;/font&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/navigations/FluxMenu.vm
=====================================================
## -----------------------------------------------------------------------
## Menu.vm
##
## Main menu for the Turbine administration application.
## -----------------------------------------------------------------------
&lt;font size=&quot;-1&quot; face=&quot;$ui.sansSerifFonts&quot;&gt;
  &lt;a href=&quot;$link.setPage(&quot;user,FluxUserList.vm&quot;)&quot;&gt;Users&lt;/a&gt;
  &lt;br&gt;
  &lt;a href=&quot;$link.setPage(&quot;group,FluxGroupList.vm&quot;)&quot;&gt;Groups&lt;/a&gt;
  &lt;br&gt;
  &lt;a href=&quot;$link.setPage(&quot;role,FluxRoleList.vm&quot;)&quot;&gt;Roles&lt;/a&gt;
  &lt;br&gt;
  &lt;a href=&quot;$link.setPage(&quot;permission,FluxPermissionList.vm&quot;)&quot;&gt;Permissions&lt;/a&gt;
  &lt;p&gt;
  &lt;a href=&quot;$link.setAction(&quot;FluxLogout&quot;).setPage(&quot;FluxLogin.vm&quot;)&quot;&gt;Logout&lt;/a&gt;
&lt;/font&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/navigations/FluxTop.vm
=====================================================
&lt;img src=&quot;$ui.image($ui.logo)&quot;&gt;
&lt;font face=&quot;verdana,geneva,helvetica&quot;&gt;
&lt;/font&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxEmbeddedMenu.vm
=====================================================
## -----------------------------------------------------------------------
## Menu.vm
##
## Main menu for the Turbine administration application.
## -----------------------------------------------------------------------
&lt;div class=&quot;w3-container&quot;&gt;
  &lt;a href=&quot;$link.setPage(&quot;user,FluxUserList.vm&quot;)&quot; class=&quot;w3-btn w3-round w3-white w3-border w3-border-blue&quot;&gt;Users&lt;/a&gt;
  &lt;a href=&quot;$link.setPage(&quot;group,FluxGroupList.vm&quot;)&quot; class=&quot;w3-btn w3-round w3-white w3-border w3-border-blue&quot;&gt;Groups&lt;/a&gt;
  &lt;a href=&quot;$link.setPage(&quot;role,FluxRoleList.vm&quot;)&quot; class=&quot;w3-btn w3-round w3-white w3-border w3-border-blue&quot;&gt;Roles&lt;/a&gt;
  &lt;a href=&quot;$link.setPage(&quot;permission,FluxPermissionList.vm&quot;)&quot; class=&quot;w3-btn w3-round w3-white w3-border w3-border-blue&quot;&gt;Permissions&lt;/a&gt;
&lt;/div&gt;


=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxError.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxError.vm,v 1.1.1.1 2003-06-19 23:07:21 painter Exp $

*#

$page.setBgColor($ui.bgcolor)
$page.setTitle(&quot;&quot;)

&lt;font face=&quot;$ui.sansSerifFonts&quot;&gt;

The reason for the error was:
&lt;p&gt;
&lt;pre&gt;
$processingException

&lt;/pre&gt;

&lt;P&gt;
The stacktrace is as follows:
&lt;pre&gt;
$stackTrace
&lt;/pre&gt;

&lt;/font&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxIndex.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxIndex.vm,v 1.1.1.1 2003-06-19 23:07:21 painter Exp $

*#

$page.setBgColor($ui.bgcolor)
$page.setTitle(&quot;Home Page&quot;)

&lt;font face=&quot;$ui.sansSerifFonts&quot;&gt;

This is the administration application.

&lt;/font&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/FluxLogin.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxLogin.vm,v 1.1.1.1 2003-06-19 23:07:21 painter Exp $

*#

$page.setTitle(&quot;Please Login&quot;)
$page.setBgColor($ui.bgcolor)

&lt;form method=&quot;post&quot; action=&quot;$link.setAction(&quot;FluxLogin&quot;).setPage(&quot;FluxIndex.vm&quot;)&quot;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      #formCell (&quot;User&quot; &quot;username&quot; &quot;&quot;)
    &lt;/tr&gt;
    &lt;tr&gt;
       #formPasswordCell (&quot;Password&quot; &quot;password&quot; &quot;&quot;)
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;
        &lt;font face=&quot;$ui.sansSerifFonts&quot;&gt;
          &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;
        &lt;/font&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/form&gt;


=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/group/FluxGroupAlreadyExists.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@version $Id: FluxGroupAlreadyExists.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#

&lt;div class=&quot;w3-panel w3-red&quot;&gt;
The group name &lt;b&gt;$name&lt;/b&gt; is currently is use. Group names
must be unique, please choose another group name.
&lt;/div&gt;


=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/group/FluxGroupForm.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxGroupForm.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#


#if ($errorTemplate)
	#parse ($errorTemplate)
#end


&lt;form 
	method=&quot;post&quot; 
	action=&quot;$link.setPage(&quot;group,FluxGroupList.vm&quot;).setAction(&quot;group.FluxGroupAction&quot;)&quot;&gt;
  
	&lt;table class=&quot;w3-table w3-striped  w3-bordered&quot;&gt;
      &lt;tr&gt;
        #formCell (&quot;Group Name&quot; &quot;group&quot; $!flux.Group.Name)
      &lt;/tr&gt;
	&lt;/table&gt;

          #*
            Check for a mode, the update and delete buttons
            shouldn't appear when inserting a new user.
          *#

          #if ($flux.Mode == &quot;modify&quot;)
            &lt;input type=&quot;hidden&quot; name=&quot;oldName&quot; value=&quot;$!flux.Group.Name&quot;&gt;
			&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
            	&lt;input class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doUpdate&quot; value=&quot;Update Group&quot;/&gt;
            &lt;/div&gt;
          #elseif ($flux.Mode == &quot;delete&quot;)
			&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
            	&lt;input class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doDelete&quot; value=&quot;Confirm Deletion&quot;/&gt;
			&lt;/div&gt;
          #else
			&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
            	&lt;input class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doInsert&quot; value=&quot;Add Group&quot;/&gt;
			&lt;/div&gt;
          #end
  
&lt;/form&gt;

#if ($showEmbeddedMenu)
  &lt;hr size=&quot;1&quot; noshade&gt;
  #parse (&quot;screens/FluxEmbeddedMenu.vm&quot;)
#end

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/group/FluxGroupList.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxGroupList.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#

$page.setTitle(&quot;Group Adminstration&quot;)
$page.setBgColor($ui.bgcolor)

#set ( $headings = [&quot;Group Name&quot;] )

&lt;div class=&quot;w3-container w3-padding&quot;&gt; &lt;h2&gt;Current Groups&lt;/h2&gt;  &lt;/div&gt;

&lt;table class=&quot;w3-table w3-striped  w3-bordered&quot;&gt;
	&lt;tr&gt;
	#foreach ($heading in $headings)
		&lt;th&gt;$heading&lt;/th&gt;
	#end
	&lt;/tr&gt;
        
	#foreach ($group in $flux.Groups)
	&lt;tr&gt;
		&lt;td&gt;$group.Name&lt;/td&gt;
		&lt;td&gt;
			&lt;a href=&quot;$link.setPage(&quot;group,FluxGroupForm.vm&quot;).addPathInfo(&quot;group&quot;,$group.Name).addQueryData(&quot;mode&quot;,&quot;modify&quot;)&quot;&gt;Details&lt;/a&gt; &amp;nbsp;
			&lt;a href=&quot;$link.setPage(&quot;group,FluxGroupForm.vm&quot;).addPathInfo(&quot;group&quot;,$group.Name).addQueryData(&quot;mode&quot;,&quot;delete&quot;)&quot;&gt;Remove&lt;/a&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
	#end
&lt;/table&gt;


&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
	&lt;a class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot;
		href=&quot;$link.setPage(&quot;group,FluxGroupForm.vm&quot;).addQueryData(&quot;mode&quot;,&quot;insert&quot;)&quot;&gt;Add Group&lt;/a&gt;
&lt;/div&gt;

#if ($showEmbeddedMenu)
  &lt;hr size=&quot;1&quot; noshade&gt;
  #parse (&quot;screens/FluxEmbeddedMenu.vm&quot;)
#end

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxPermissionAlreadyExists.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxPermissionAlreadyExists.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#

&lt;div class=&quot;w3-panel w3-red&quot;&gt;
The permission name &lt;b&gt;$name&lt;/b&gt; is currently is use. Permission
names must be unique, please choose another name.
&lt;/div&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxPermissionForm.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxPermissionForm.vm,v 1.1.1.1 2003-06-19 23:07:21 painter Exp $

*#

#if ($errorTemplate)
	#parse ($errorTemplate)
#end

&lt;form 
	method=&quot;post&quot; 
	action=&quot;$link.setPage(&quot;permission,FluxPermissionList.vm&quot;).setAction(&quot;permission.FluxPermissionAction&quot;)&quot;&gt;
  
	&lt;table class=&quot;w3-table w3-striped  w3-bordered&quot;&gt;
      &lt;tr&gt;
        #formCell (&quot;Permission Name&quot; &quot;permission&quot; $!flux.Permission.Name)
      &lt;/tr&gt;
	&lt;/table&gt;


          #*
            Check for a mode, the update and delete buttons
            shouldn't appear when inserting a new user.
          *#

          #if ($flux.Mode == &quot;modify&quot;)
            &lt;input type=&quot;hidden&quot; name=&quot;oldName&quot; value=&quot;$!flux.Permission.Name&quot;&gt;
			&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
            	&lt;input class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doUpdate&quot; value=&quot;Update Permission&quot;/&gt;
            &lt;/div&gt;
          #elseif ($flux.Mode == &quot;delete&quot;)
			&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
            	&lt;input class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doDelete&quot; value=&quot;Confirm Deletion&quot;/&gt;
			&lt;/div&gt;
          #else
			&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
            	&lt;input class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doInsert&quot; value=&quot;Add Permission&quot;/&gt;
			&lt;/div&gt;
          #end

&lt;/form&gt;

#if ($showEmbeddedMenu)
  &lt;hr size=&quot;1&quot; noshade&gt;
  #parse (&quot;screens/FluxEmbeddedMenu.vm&quot;)
#end

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxPermissionList.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxPermissionList.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#

## Load permissions
#set ( $permissions = $flux.Permissions )

&lt;h2&gt;All Permissions&lt;/h2&gt;

#set ( $headings = [&quot;Permission Name&quot;] )

&lt;table class=&quot;w3-table w3-bordered&quot;&gt;
        &lt;tr&gt;
          #foreach ($heading in $headings)
          &lt;th&gt;$heading&lt;/th&gt;
          #end
        &lt;/tr&gt;
  
        #foreach ($permission in $permissions )
        &lt;tr&gt;
          &lt;td&gt; $permission.Name &lt;/td&gt;
          &lt;td&gt;
              &lt;a href=&quot;$link.setPage(&quot;permission,FluxPermissionForm.vm&quot;).addPathInfo(&quot;permission&quot;,$permission.Name).addQueryData(&quot;mode&quot;,&quot;modify&quot;)&quot;&gt;Details&lt;/a&gt; &amp;nbsp;
              &lt;a href=&quot;$link.setPage(&quot;permission,FluxPermissionForm.vm&quot;).addPathInfo(&quot;permission&quot;,$permission.Name).addQueryData(&quot;mode&quot;,&quot;delete&quot;)&quot;&gt;Remove&lt;/a&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
        #end
&lt;/table&gt;

&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
	&lt;a class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot;
		href=&quot;$link.setPage(&quot;permission,FluxPermissionForm.vm&quot;).addQueryData(&quot;mode&quot;,&quot;insert&quot;)&quot;&gt;Add New Permission&lt;/a&gt;
&lt;/div&gt;

#if ($showEmbeddedMenu)
  &lt;hr size=&quot;1&quot; noshade&gt;
  #parse (&quot;screens/FluxEmbeddedMenu.vm&quot;)
#end

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/permission/FluxRolePermissionList.vm
=====================================================
#** 

This template is used to display the permissions
for a role.

@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxRolePermissionForm.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#

#set ( $role = $flux.Role )

## Load permissions
#set ( $permissions = $flux.Permissions )
&lt;h2&gt;Permissions for the $role.Name role&lt;/h2&gt;

&lt;form method=&quot;post&quot; action=&quot;$link.setAction(&quot;role.FluxRoleAction&quot;).setPage(&quot;role,FluxRoleList.vm&quot;)&quot;&gt;

	&lt;input type=&quot;hidden&quot; name=&quot;role&quot; value=&quot;$role.Name&quot;&gt;

	&lt;table class=&quot;w3-table w3-bordered&quot;&gt;
		&lt;tr&gt;
			&lt;th&gt; Permission &lt;/th&gt;
			&lt;th&gt; Assign to Role &lt;/th&gt;
		&lt;/tr&gt;
		
		#foreach ($permission in $permissions)
		&lt;tr&gt;
		    &lt;td align=&quot;right&quot;&gt; &lt;b&gt;$!permission.Name&lt;/b&gt; &lt;/td&gt;
			&lt;td align=&quot;center&quot;&gt;
			#if ($role.Permissions.contains($permission))
		      #set ($checked = &quot;checked&quot;)
		    #else
		      #set ($checked = &quot;&quot;)
		    #end
				&lt;input type=&quot;checkbox&quot; name=&quot;${role.Name}${permission.Name}&quot; $checked&gt;
			&lt;/td&gt;
	  &lt;/tr&gt;
	  #end
	  
	  &lt;tr&gt;
	    &lt;td&gt;
	        &lt;input class=&quot;w3-button w3-blue&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doPermissions&quot; value=&quot;Update Permissions&quot;&gt;
	    &lt;/td&gt;
	  &lt;/tr&gt;
	&lt;/table&gt;  
	
&lt;/form&gt;
  

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/role/FluxRoleAlreadyExists.vm
=====================================================
#**

Display this template when the administrator
tries to add a user with a role that is
already being used by the security system.

@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxRoleAlreadyExists.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#

&lt;div class=&quot;w3-panel w3-red&quot;&gt;
The role name &lt;b&gt;$name&lt;/b&gt; is currently in use. Role names
must be unique, please choose another role name.
&lt;/div&gt;


=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/role/FluxRoleForm.vm
=====================================================
#**

This template is used to display the details of
a role.

@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxRoleForm.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#

#if ($errorTemplate)
	#parse ($errorTemplate)
#end

&lt;form 
	method=&quot;post&quot; 
	action=&quot;$link.setPage(&quot;role,FluxRoleList.vm&quot;).setAction(&quot;role.FluxRoleAction&quot;)&quot;&gt;
  
	&lt;table class=&quot;w3-table w3-striped  w3-bordered&quot;&gt;
      &lt;tr&gt;
        #formCell (&quot;Role Name&quot; &quot;role&quot; $!flux.Role.Name)
      &lt;/tr&gt;
	&lt;/table&gt;

          #*
            Check for a mode, the update and delete buttons
            shouldn't appear when inserting a new user.
          *#

          #if ($flux.Mode == &quot;modify&quot;)
            &lt;input type=&quot;hidden&quot; name=&quot;oldName&quot; value=&quot;$!flux.Role.Name&quot;&gt;
			&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
            	&lt;input class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doUpdate&quot; value=&quot;Update Role&quot;/&gt;
            &lt;/div&gt;
          #elseif ($flux.Mode == &quot;delete&quot;)
			&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
            	&lt;input class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doDelete&quot; value=&quot;Confirm Deletion&quot;/&gt;
			&lt;/div&gt;
          #else
			&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
            	&lt;input class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot; type=&quot;submit&quot; name=&quot;eventSubmit_doInsert&quot; value=&quot;Add Role&quot;/&gt;
			&lt;/div&gt;
          #end

&lt;/form&gt;

#if ($showEmbeddedMenu)
  &lt;hr size=&quot;1&quot; noshade&gt;
  #parse (&quot;screens/FluxEmbeddedMenu.vm&quot;)

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/role/FluxRoleList.vm
=====================================================
#**

Used to display the roles currently being used in
the application.

*#
#set ( $headings = [&quot;Role Name&quot;] )

&lt;div class=&quot;w3-container w3-padding&quot;&gt; &lt;h2&gt;Current Roles&lt;/h2&gt;  &lt;/div&gt;

&lt;table class=&quot;w3-table w3-striped  w3-bordered&quot;&gt;
        &lt;tr&gt;
          #foreach ($heading in $headings)
          &lt;th&gt;$heading&lt;/th&gt;
          #end
        &lt;/tr&gt;
        
        #foreach ($role in $flux.Roles)
	        #if ( $role.Name != &quot;super_admin&quot; )
	        &lt;tr&gt;
	        	&lt;td&gt; $role.Name &lt;/td&gt;
	          &lt;td&gt;
	              &lt;a href=&quot;$link.setPage(&quot;permission,FluxRolePermissionList.vm&quot;).addPathInfo(&quot;role&quot;,$role.Name)&quot;&gt;Permissions&lt;/a&gt; &amp;nbsp;
	              &lt;a href=&quot;$link.setPage(&quot;role,FluxRoleForm.vm&quot;).addPathInfo(&quot;role&quot;,$role.Name).addQueryData(&quot;mode&quot;,&quot;modify&quot;)&quot;&gt;Details&lt;/a&gt; &amp;nbsp;
	              &lt;a href=&quot;$link.setPage(&quot;role,FluxRoleForm.vm&quot;).addPathInfo(&quot;role&quot;,$role.Name).addQueryData(&quot;mode&quot;,&quot;delete&quot;)&quot;&gt;Remove&lt;/a&gt;
	          &lt;/td&gt;
	        &lt;/tr&gt;
	        #end
        #end
        
&lt;/table&gt;

		&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
			&lt;a class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot;
				href=&quot;$link.setPage(&quot;role,FluxRoleForm.vm&quot;).addQueryData(&quot;mode&quot;,&quot;insert&quot;)&quot;&gt;Add New Role&lt;/a&gt;
		&lt;/div&gt;


#if ($showEmbeddedMenu)
  &lt;hr size=&quot;1&quot; noshade&gt;
  #parse (&quot;screens/FluxEmbeddedMenu.vm&quot;)
#end

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxMissingRequiredInputs.vm
=====================================================
#*
@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@version $Id: FluxMissingRequiredInputs.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $
*#

&lt;div class=&quot;w3-panel w3-red&quot;&gt;
The following fields are required and must be entered before
this request can be processed:
&lt;ul&gt;
#foreach ($missingRequiredInput in $missingRequiredInputs)
	&lt;li&gt;$missingRequiredInput&lt;/li&gt;
#end
&lt;/ul&gt;
&lt;/div&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserAlreadyExists.vm
=====================================================
#*

@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@version $Id: FluxUserAlreadyExists.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#

&lt;div class=&quot;w3-panel w3-red&quot;&gt;
The username &lt;b&gt;$username&lt;/b&gt; is currently is use. Usernames
must be unique for all users, please choose another username.
&lt;/div&gt;


=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserForm.vm
=====================================================
#**

Display the details of a user.

@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@version $Id: FluxUserForm.vm,v 1.10 2017-11-17 19:21:40 painter Exp $

*#

&lt;!-- Primary edit screen --&gt;
&lt;form 
    name=&quot;user&quot; 
    method=&quot;post&quot; 
    action=&quot;$link.setAction(&quot;user.FluxUserAction&quot;).setPage(&quot;user,FluxUserList.vm&quot;)&quot;&gt;
	
	#set ( $user = $flux.User )
	
	&lt;div class=&quot;w3-container w3-padding w3-gray&quot;&gt;
			
		&lt;div class=&quot;w3-row-padding&quot;&gt;
	
			&lt;!-- User Info --&gt;
			&lt;div class=&quot;w3-half&quot;&gt;
				&lt;div class=&quot;w3-card-8 w3-padding w3-white&quot;&gt;
					&lt;div id=&quot;newUser&quot; style=&quot;display: block;&quot;&gt;
					&lt;h2&gt;User Details&lt;/h2&gt;
					#formCell( &quot;Username&quot; &quot;username&quot; $!user.Name ) 
		            #formCell( &quot;First Name&quot; &quot;firstName&quot; $!user.FirstName ) 
		            #formCell( &quot;Last Name&quot; &quot;lastName&quot; $!user.LastName ) 
		            #formCell( &quot;Email&quot; &quot;email&quot; $!user.Email ) 
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
			&lt;div class=&quot;w3-half&quot;&gt;				
				&lt;div id=&quot;userPassword&quot; class=&quot;w3-card-8 w3-padding w3-white&quot;&gt;
					&lt;h2&gt;Password&lt;/h2&gt;
					
					&lt;p&gt;
						Password required for user to login. If you are just 
						updating a user's details, leave the password field 
						blank, otherwise, new password will be set 
					
					#formPasswordCell( &quot;New Password&quot; &quot;password&quot; &quot;&quot; )
					
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;p&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserList.vm
=====================================================
#set ( $headings = [&quot;Username&quot;,&quot;First Name&quot;, &quot;Last Name&quot;, &quot;Email&quot;, &quot;Admin&quot; ] )

&lt;table class=&quot;w3-table w3-striped  w3-bordered&quot;&gt;
    &lt;tr&gt;
        &lt;td&gt;Search:&lt;/td&gt; 
        &lt;td&gt;
        &lt;form method=&quot;post&quot; action=&quot;$link.setPage(&quot;user,FluxUserList.vm&quot;)&quot;&gt;
            $flux.getUserFieldList()
            &lt;input type=&quot;text&quot; name=&quot;searchField&quot; value=&quot;&quot;&gt;
            &lt;input type=&quot;submit&quot; name=&quot;eventSubmit_doDefault&quot; value=&quot;Filter Users&quot;&gt;
        &lt;/form&gt;&lt;br&gt; 
    &lt;a href=&quot;$link.setPage(&quot;user,FluxUserList.vm&quot;).addQueryData( &quot;fieldList&quot;, &quot;username&quot; ).addQueryData( &quot;searchField&quot;, &quot;admin&quot; )&quot; class=&quot;w3-btn w3-round w3-blue w3-border w3-border-blue&quot;&gt;Admin Users&lt;/a&gt;
        &lt;/td&gt; 
   &lt;/tr&gt;
&lt;/table&gt;

&lt;div class=&quot;w3-container w3-padding&quot;&gt; &lt;h2&gt;Current Users&lt;/h2&gt;  &lt;/div&gt;

&lt;table class=&quot;w3-table w3-striped  w3-bordered&quot;&gt;
	&lt;tr&gt;
		#foreach ($heading in $headings)
			&lt;th&gt;$heading&lt;/th&gt; 
		#end
	&lt;/tr&gt;

	#foreach ($user in $flux.getUsers() )
	&lt;tr&gt;
		&lt;td&gt;$!user.Name&lt;/td&gt;
		&lt;td&gt;$!user.FirstName&lt;/td&gt;
		&lt;td&gt;$!user.LastName&lt;/td&gt;
		&lt;td&gt;&lt;a href=mailto:$!user.Email&gt;$!user.Email&lt;/a&gt;&lt;/td&gt; 
		&lt;td&gt;&lt;a href=&quot;$link.setPage(&quot;user,FluxUserForm.vm&quot;).addQueryData(&quot;username&quot;,&quot;$user.Name&quot;).addQueryData(&quot;mode&quot;,&quot;modify&quot;)&quot;&gt;Details&lt;/a&gt;
			&amp;nbsp; &lt;a href=&quot;$link.setPage(&quot;user,FluxUserRoleForm.vm&quot;).addQueryData(&quot;username&quot;,&quot;$user.Name&quot;).addQueryData(&quot;mode&quot;,&quot;modify&quot;)&quot;&gt;Roles&lt;/a&gt;
			&amp;nbsp; &lt;a href=&quot;$link.setPage(&quot;user,FluxUserForm.vm&quot;).addQueryData(&quot;username&quot;,&quot;$user.Name&quot;).addQueryData(&quot;mode&quot;,&quot;delete&quot;)&quot;&gt;Remove&lt;/a&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
	#end

&lt;/table&gt;
&lt;p&gt;
		&lt;div class=&quot;w3-container w3-padding w3-center&quot;&gt;
			&lt;a class=&quot;w3-btn w3-blue w3-round&quot; style=&quot;width: 180px;&quot;
				href=&quot;$link.setPage(&quot;user,FluxUserForm.vm&quot;).addQueryData(&quot;mode&quot;,&quot;insert&quot;)&quot;&gt;Add
				New User&lt;/a&gt;
		&lt;/div&gt;

#if ($showEmbeddedMenu)
  &lt;hr size=&quot;1&quot; noshade&gt;
  #parse (&quot;screens/FluxEmbeddedMenu.vm&quot;)
#end

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/templates/flux/screens/user/FluxUserRoleForm.vm
=====================================================
#**

@author &lt;a href=&quot;mailto:jvanzyl@periapt.com&quot;&gt;Jason van Zyl&lt;/a&gt;
@author &lt;a href=&quot;mailto:jeff@jivecast.com&quot;&gt;Jeffery Painter&lt;/a&gt;
@version $Id: FluxUserRoleForm.vm,v 1.1.1.1 2017-11-26 23:07:21 painter Exp $

*#

#set ($user = $flux.User)
#set ($acl = $flux.ACL)

&lt;h2&gt;Roles for $user.FirstName $user.LastName&lt;/h2&gt;

&lt;form method=&quot;post&quot; action=&quot;$link.setAction(&quot;user.FluxUserAction&quot;).setPage(&quot;user,FluxUserList.vm&quot;)&quot;&gt;

&lt;input type=&quot;hidden&quot; name=&quot;username&quot; value=&quot;$user.Name&quot;&gt;
&lt;table class=&quot;w3-table w3-bordered&quot;&gt;
  &lt;tr&gt;
    &lt;th&gt; &amp;nbsp; &lt;/th&gt;
      
    #foreach ($role in $flux.Roles)
      #if ( $role.Name != &quot;super_admin&quot; )
	    &lt;th&gt;
	        &lt;b&gt;$role.Name&lt;/b&gt;
	    &lt;/th&gt;
	  #end
    #end
  
  &lt;/tr&gt;


  #foreach ($group in $flux.Groups)
  &lt;tr&gt;
    &lt;td&gt;
        &lt;b&gt;$group.Name&lt;/b&gt;
    &lt;/td&gt;

    #foreach ($role in $flux.Roles)
	    #if ( $role.Name != &quot;super_admin&quot; )
		    #if ($acl.hasRole($role, $group))
		      #set ($checked = &quot;checked&quot;)
		    #else
		      #set ($checked = &quot;&quot;)
		    #end
		    
		    &lt;td align=&quot;center&quot;&gt;
		      &lt;input type=&quot;checkbox&quot; class=&quot;w3-checkbox&quot; name=&quot;${group.Name}${role.Name}&quot; $checked&gt;
		    &lt;/td&gt;
		#end
    #end

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/flux.properties
=====================================================
# -------------------------------------------------------------------
#
#  F L U X    S E R V I C E
#
# -------------------------------------------------------------------

# ------------------------------------------------------------------------
# Security Properties
# ------------------------------------------------------------------------
flux.admin.role = turbineadmin

# ------------------------------------------------------------------------
# Mode Properties
# ------------------------------------------------------------------------
# Flux can work in stand-alone mode and in embedded mode.
# ------------------------------------------------------------------------

flux.mode = embedded

# ------------------------------------------------------------------------
# Embedded Properties
# ------------------------------------------------------------------------

flux.embedded.layout = /Default.vm
flux.embedded.show.menu = true

# ------------------------------------------------------------------------
# Stand-Alone Properties
# ------------------------------------------------------------------------

flux.stand.alone.layout = /FluxDefault.vm

# ------------------------------------------------------------------------
# UI Properties
# ------------------------------------------------------------------------

flux.ui.show.finder = false

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/TurbineConfigurationBuilder.xml
=====================================================
&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;

&lt;configuration&gt;
	&lt;header&gt;
		&lt;!-- Meta data about the resulting combined configuration --&gt;
	&lt;/header&gt;
	&lt;override&gt;&lt;!-- only allowed configurations are user and turbine, realtive 
			paths --&gt;
		&lt;properties config-name=&quot;user&quot;
			fileName=&quot;usersettings.properties&quot; config-optional=&quot;true&quot;
			config-forceCreate=&quot;true&quot; /&gt;
		&lt;!-- xml fileName=&quot;conf/test/TurbineResources.xml&quot;/ --&gt;
		&lt;properties config-name=&quot;turbine&quot;
			fileName=&quot;TurbineResources.properties&quot; throwExceptionOnMissing=&quot;true&quot; /&gt;
	&lt;/override&gt;
	&lt;additional&gt;
		&lt;!-- Configuration declarations that form a union configuration, always 
			provide a unique config-name attribute --&gt;
	&lt;/additional&gt;
&lt;/configuration&gt;

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/WEB-INF/conf/usersettings.properties
=====================================================

=====================================================
== File: src/main/resources/archetype-resources/src/main/webapp/WEB-INF/jetty-ee10-env.xml
=====================================================
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;https://eclipse.dev/jetty/configure_10_0.dtd&quot;&gt;
&lt;Configure class=&quot;org.eclipse.jetty.ee10.webapp.WebAppContext&quot; id=&quot;wac&quot;&gt;
  &lt;New id=&quot;Turbine&quot; class=&quot;org.eclipse.jetty.plus.jndi.Resource&quot;&gt;
    &lt;Arg&gt;&lt;Ref refid=&quot;wac&quot;/&gt;&lt;/Arg&gt; &lt;!-- scope  --&gt;
    &lt;Arg&gt;${turbine_database_jndipath}&lt;/Arg&gt;
    &lt;Arg&gt;
        &lt;New class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot;&gt;
           &lt;Set name=&quot;driverClassName&quot;&gt;${turbine_database_driver}&lt;/Set&gt;
             &lt;Set name=&quot;url&quot;&gt;${turbine_database_url}${turbine_database_name}&lt;/Set&gt;
            &lt;Set name=&quot;username&quot;&gt;${turbine_database_user}&lt;/Set&gt;
            &lt;Set name=&quot;password&quot;&gt;${turbine_database_password}&lt;/Set&gt;
            &lt;Set name=&quot;connectionProperties&quot;&gt;${connectionProperties}&lt;/Set&gt;
            &lt;Set name=&quot;validationQuery&quot;&gt;SELECT 1&lt;/Set&gt;          
        &lt;/New&gt;
    &lt;/Arg&gt;
  &lt;/New&gt;
  
  &lt;Call name=&quot;setAttribute&quot;&gt;
      &lt;Arg&gt;org.eclipse.jetty.server.webapp.WebInfIncludeJarPattern&lt;/Arg&gt;
      &lt;Arg&gt;.*/spring-[^/]*\.jar$&lt;/Arg&gt;
  &lt;/Call&gt;  
  &lt;Call name=&quot;setAttribute&quot;&gt;
      &lt;Arg&gt;org.eclipse.jetty.annotations.multiThreaded&lt;/Arg&gt;
      &lt;Arg type=&quot;Boolean&quot;&gt;false&lt;/Arg&gt;
  &lt;/Call&gt;
    
&lt;/Configure&gt;

=====================================================
== File: src/test/resources/projects/first/archetype.properties
=====================================================
groupId=org.apache.turbine.test
artifactId=integrationtest
version=1.0.0-SNAPSHOT
package=org.apache.turbine.test.integrationtest
turbine_app_name=My Turbine Web Application
turbine_intake_file=intake.xml
turbine_database_name=turbine
turbine_database_adapter=auto
turbine_database_jndipath=jdbc/turbine
turbine_database_driver=${turbine_database_driver}
turbine_database_timezone=UTC
turbine_database_url=${turbine_database_url}
connectionProperties=${connectionProperties}
turbine_database_user=db_user
turbine_database_password=db_password
app_volume_local_repo=${app_volume_local_repo}
docker=${docker}
db=${db}

=====================================================
== File: src/test/resources/projects/first/goal.txt
=====================================================
eclipse:eclipse package
</pre></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Â©      2011â€“2025
<a href="https://www.apache.org/">The Apache Software Foundation</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
